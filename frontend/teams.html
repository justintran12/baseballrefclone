<!DOCTYPE html>
<html>
<head>
<title>Baseball Reference Plus</title>
<meta charset="UTF-8"> <meta name="description" content="Team data page"> <meta name="author" content="Justin Tran">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" src="baseballScript.js"></script>
<script>
	document.addEventListener('DOMContentLoaded',function(){
		// do not clear currUser field in cache 
		// on page load run this code, if redirected to this page from a favorite when logged in, get data for the favorite team immediately
		// if in guest mode, do nothing.
		favRedirected = localStorage.getItem('favRedirect');
		if(favRedirected){
			currUser = localStorage.getItem('currUser');

			// don't clear live game data that is being used on a separate live game page
			gameId = localStorage.getItem('gameID');
			first = localStorage.getItem('first');
			second = localStorage.getItem('second');
			third = localStorage.getItem('third');
			currPlayInd = localStorage.getItem('currPlayInd');
			runnerScored = localStorage.getItem('runnersScored');

			fav = localStorage.getItem('fav');
			document.getElementById("team_name").value = fav;
			getTeamData();
			getDivisionStandings();
			getTeamLeaders();

			
			localStorage.clear();
			if (currUser != null){
				localStorage.setItem('currUser', currUser);
			}
			localStorage.setItem('gameID', gameId);
			localStorage.setItem('first', first);
			localStorage.setItem('second', second);
			localStorage.setItem('third', third);
			localStorage.setItem('currPlayInd', currPlayInd);
			localStorage.setItem('runnersScored', runnerScored);
		}
	});
</script>
<link rel="stylesheet" href="mystyle.css">
<h1>Baseball Reference Plus</h1>
<ul>
    <li><a href="landing.html">Home</a></li>
	<li><a href="baseball.html">Players</a></li>
	<li><a href="teams.html">Teams</a></li>
    <li><a href="live.html">Live Games</a></li>
</ul>
<h1>Team Stats</h1>
<p id="getDataResponse"></p>
</head>
<body>
<div>
	<label for="team_name">Enter Team Name:</label> <br>
	<input type="text" id="team_name" name="team_name"> <br>
	<button onclick = "teamSearch()" > Search </button> <br>
	<p id = "teamSearchResp"></p>
	<p id = "insertTeamResp"> </p>
	<p id="getTeamDataResponse"></p>
	<p id="getDivisionDataResponse"></p>
	<p id="getLeadersDataResponse"></p>
</div>
<div class="vertical-list" id = teamSearchResults>

</div>
<div>
	<p id = teamRecord></p>
	<p id = teamRank> </p>
</div>
<div>
	<h2>Team Leaders</h2>
	<table id = 'leadersTable'>
		<thead>
			<tr>
				<th>Avg</th>
				<th>ERA</th>
				<th>HR</th>
				<th>Hits</th>
				<th>IP</th>
				<th>OBP</th>
				<th>OPS</th>
				<th>RBI</th>
				<th>SB</th>
				<th>SLG</th>
				<th>SO per 9</th>
				<th>Saves</th>
				<th>WHIP</th>
			</tr>
		</thead>
	</table>
</div>
<h2>Active 40-man Roster</h2>
<div>
	<h3> Hitter Stats</h3>
	<table id = 'hittersTable'>
		<thead>
			<tr>
				<th>Name</th>
                <th>Position</th>
                <th>Number</th>
                <th>Year</th>
				<th>GP</th>
				<th>PA</th>
				<th>AB</th>
				<th>BB</th>
				<th>Hits</th>
				<th>2B</th>
				<th>3B</th>
				<th>HR</th>
				<th>AVG</th>
				<th>OBP</th>
				<th>SLG</th>
				<th>OPS</th>
				<th>RBI</th>
				<th>Runs</th>
				<th>SO</th>
				<th>SB</th>
				<th>BABIP</th>
				<th>HBP</th>
			</tr>
		</thead>
	</table>
</div>
<div>
	<h3> Pitcher Stats</h3>
	<table id = 'pitchersTable'>
		<thead>
			<tr>
				<th>Name</th>
                <th>Position</th>
                <th>Number</th>
                <th>Year</th>
				<th>Starts</th>
				<th>GP</th>
				<th>IP</th>
				<th>W</th>
				<th>L</th>
				<th>ERA</th>
				<th>Opp. Avg</th>
				<th>WHIP</th>
				<th>SO</th>
				<th>BB</th>
				<th>Hits</th>
				<th>HR</th>
				<th>Strike %</th>
				<th>Saves</th>
				<th>Save Opps</th>
				<th>CG</th>
				<th>Shut Outs</th>
				<th>Wild Pitches</th>
			</tr>
		</thead>
	</table>
</div>
<div>
	<h2>Division Standings</h2>
	<b> <p id = divName> </p> </b>
	<table id = 'divisionTable'>
		<thead>
			<tr>
				<th>Rank</th>
				<th>Team</th>
				<th>W</th>
				<th>L</th>
				<th>GB</th>
				<th>Wild Card Rank</th>
				<th>Wild Card GB</th>
			</tr>
		</thead>
	</table>
</div>
</body>
</html>